<?xml version="1.0" encoding="UTF-8"?>
<stateInfo>

	<defineContext name="Thread" parent=""/>
	<defineContext name="Method" parent="Thread"/>
	
	<stateDeclaration context="Method" parentInherits="false">
		<state name="Unknown"> <!--  intentionally no rgb value here -->
			<value>0</value>
		</state>
		<state name="Running" rgb="0,200,0">
			<value>1</value>
		</state>
	</stateDeclaration> 
	
	<addContext  eventType="lttng_ust_java:function_entry_event">
	         <valueParentContext field="int_tid" fieldRegex="(.*)"/>
	         <valueCurrentContext field="string_method" fieldRegex="(.*)"/>
	</addContext>
	
	
	<stateChange context="Method" 
	             eventType="lttng_ust_java:function_entry_event">
	             <valueParentContext field="int_tid" fieldRegex="(.*)"/>
	             <valueEventContext field="string_method" fieldRegex="(.*)"/>
	             <valueState value="1"/>
	</stateChange>
	             
	<stateChange context="Method" 
	             eventType="lttng_ust_java:function_exit_event"
	             eventFieldToExtractContextParentFrom="int_tid" 
	             eventFieldToExtractContextParentFromRegex="(.*)" 
	             eventFieldToExtractContextFrom="string_method" 
	             eventFieldToExtractContextFromRegex="(.*)" 
	             stateValue="0"
	             />
	 
	 <!-- eventFieldToExtractStateFrom="string_method" 
	             eventFieldToExtractStateFromRegex="(.*)"  -->
 </stateInfo>